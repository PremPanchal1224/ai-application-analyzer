{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col-md-10 mx-auto">
        <h2>New Application</h2>
        <p class="text-muted">Fill out your study abroad application form and upload required documents.</p>
        
        <form method="POST" action="{{ url_for('submit_application') }}" enctype="multipart/form-data">
            <!-- Personal Information -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5>Personal Information</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="full_name" class="form-label">Full Name *</label>
                                <input type="text" class="form-control" name="full_name" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="email" class="form-label">Email Address *</label>
                                <input type="email" class="form-control" name="email" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="phone" class="form-label">Phone Number</label>
                                <input type="tel" class="form-control" name="phone">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="date_of_birth" class="form-label">Date of Birth</label>
                                <input type="date" class="form-control" name="date_of_birth">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="nationality" class="form-label">Nationality</label>
                                <input type="text" class="form-control" name="nationality">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Academic Information -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5>Academic Information</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="target_university" class="form-label">Target University *</label>
                                <input type="text" class="form-control" name="target_university" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="course" class="form-label">Intended Course/Program *</label>
                                <input type="text" class="form-control" name="course" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label for="academic_level" class="form-label">Academic Level</label>
                                <select class="form-control" name="academic_level">
                                    <option value="">Select Level</option>
                                    <option value="undergraduate">Undergraduate</option>
                                    <option value="masters">Master's</option>
                                    <option value="phd">PhD</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label for="gpa" class="form-label">GPA/CGPA</label>
                                <input type="number" step="0.01" class="form-control" name="gpa" min="0" max="4">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label for="gre_score" class="form-label">GRE Score</label>
                                <input type="number" class="form-control" name="gre_score" min="260" max="340">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label for="toefl_score" class="form-label">TOEFL Score</label>
                                <input type="number" class="form-control" name="toefl_score" min="0" max="120">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label for="ielts_score" class="form-label">IELTS Score</label>
                                <input type="number" step="0.5" class="form-control" name="ielts_score" min="0" max="9">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Experience and Essays -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5>Experience and Essays</h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <label for="work_experience" class="form-label">Work Experience (Optional)</label>
                        <textarea class="form-control" name="work_experience" rows="3" placeholder="Describe your relevant work experience..."></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="statement_of_purpose" class="form-label">Statement of Purpose</label>
                        <textarea class="form-control" name="statement_of_purpose" rows="6" placeholder="Write your statement of purpose..."></textarea>
                    </div>
                </div>
            </div>

            <!-- Document Upload -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5>Document Upload</h5>
                </div>
                <div class="card-body">
                    <p class="text-muted">Upload your supporting documents (PDF, DOC, DOCX, JPG, PNG formats accepted, max 16MB each)</p>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="transcript" class="form-label">Academic Transcripts</label>
                                <input type="file" class="form-control" name="transcript[]" multiple accept=".pdf,.doc,.docx,.jpg,.jpeg,.png">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="sop" class="form-label">Statement of Purpose (Document)</label>
                                <input type="file" class="form-control" name="sop[]" multiple accept=".pdf,.doc,.docx">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="resume" class="form-label">Resume/CV</label>
                                <input type="file" class="form-control" name="resume[]" multiple accept=".pdf,.doc,.docx">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="passport" class="form-label">Passport Copy</label>
                                <input type="file" class="form-control" name="passport[]" multiple accept=".pdf,.jpg,.jpeg,.png">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="test_scores" class="form-label">Test Scores (GRE/TOEFL/IELTS)</label>
                                <input type="file" class="form-control" name="test_scores[]" multiple accept=".pdf,.jpg,.jpeg,.png">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="recommendation_letters" class="form-label">Recommendation Letters</label>
                                <input type="file" class="form-control" name="recommendation_letters[]" multiple accept=".pdf,.doc,.docx">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-primary btn-lg">Submit Application</button>
                <a href="{{ url_for('dashboard') }}" class="btn btn-secondary btn-lg ms-3">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
